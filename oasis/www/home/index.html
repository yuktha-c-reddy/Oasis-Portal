{% extends "templates/layouts/layout.html" %}

{% block title %}Oasis{% endblock %}

{% block content %}
<link rel="preconnect" href="/assets/oasis/images">
<link rel="dns-prefetch" href="/assets/oasis/images">
<link rel="stylesheet" href="/assets/oasis/css/home.css?version=2.61">
<script src="/assets/oasis/js/scroll_animations.js?version=2.01"></script>

<section class="section_1">
    <div class="main-container">
       <div class="inner-container">
        <div class="left-outer-container fade-in">
            <div class="left-container">
                <div>
                    <img class="home-banner1" src="/assets/oasis/images/banner1.svg" type="image/svg+xml" alt="">
                </div>
                <div style="display: flex; flex-direction: column; gap: 24px;">
                    <div>
                        <p class="sect1-header">
                            Empowering change through open source
                        </p>
                    </div>
                    <div>
                        <p class="sect1-sub">
                            We are a network of organizations united by the vision that Free and Open-Source Software (FOSS) can empower citizen sector organizations and communities to create positive impact at scale.
                        </p>
                    </div>
                    <div style="font-size: 14px; font-family: Inter, sans-serif; display: flex; gap: 24px;">
                        <a href="https://forum.oasishq.org/"><button class="participate-btn main-button" > Participate -></button></a>
                        <a href="/join-oasis"><button class="sec-btn main-button" > Join -></button></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-container fade-in">
            <div class="right-top">
                <img src="/assets/oasis/images/banner2.svg" alt="">
            </div>
            <div class="right-bottom">
                <div style="position: absolute; top: 0px; right: 0px;">
                    <img fill="#fe4537" src="/assets/oasis/images/shape3.svg" alt="">
                </div>
                <div style="display: flex; flex-direction: column; gap: 24px;">
                    <div>
                        <p class="right-bottom-p">
                            FOSS (Free and & Open-Source Software) enables access to libre, low-cost, and sustainable solutions and promotes transparency and collaboration.
                        </p>
                    </div>
                    <hr style="height: 1px; width: 100%; background-color: #fe4537; border: none;">
                    <div>
                        <a href="/foss">
                            <p style="font-size: 16px; font-family: Inter, sans-serif; margin: 0px; font-weight: 500; line-height: 25px; color: #ffffff; text-decoration: underline 1px; text-underline-offset: 3px; cursor: pointer;">
                                Read about FOSS & Social Sector ->
                            </p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
       </div>
    </div>
</section>
<section class="section">
    <div class="partners">
        <div style="display: flex; justify-content: center; align-items: center;">
            <p class="partners-heading">OUR ALLIANCE</p>
        </div>
        <div style="display: flex; flex-wrap: wrap; gap: 50px; justify-content: center; align-items: center;">
        {% for partner in partners %}
            {% if partner.key_partner %}
                <a href="{{ partner.url }}" target="_blank" > 
                    <img class="partner-logo" src="{{ partner.logo }}" alt="logo" > 
                </a>
            {% endif %}
        {% endfor %}
        </div>
    </div>
</section>
<section class="section">
    <div style="width: 100%;">
        <div class="cards">
            <div class="card-heading fade-in">
                <p>How we achieve it?</p>
            </div>
            <div class="card-row fade-in">
                <div class="inner-card1 card-panel">
                    <p style="font-family: 'Bricolage Grotesque', sans-serif; margin: 0px; font-size: 48px; font-weight: 600; line-height: 55px; color: #000000; max-width: 242px;">
                        How we achieve it?
                    </p>
                </div>
                {% for card in cards %}
                <div class="inner-cards card-panel" style="background-color: {{ card.background_color }}">
                    <div>
                        <p style="font-family: 'Inter', sans-serif; margin: 0px; font-size: 24px; font-weight: 500; line-height: 30px; color: #000000;">
                            {{ card.content_summary }}
                        </p>
                    </div>
                    <!-- <div style="display: flex; flex-direction: column; gap: 10px; z-index: 999;">
                        <div>
                            <button class="card-btn btn-2">{{ card.cta_button_1_label }} -></button>
                        </div>
                        <div>
                            <button class="card-btn">{{ card.cta_button_2_label }} -></button>
                        </div>
                    </div> -->
                    <div style="position: absolute; bottom: 0px; right: 0px;">
                        <img class="card-vector" src="{{card.illustration}}" alt="">
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>
<section class="section case-study-section">
    <div class="casestudy-component">
        <div class="casestudy-innercomponent">
            <div class="casestudy-top-container">
                <div style="display: flex; flex-direction: column; gap: 12px;">
                    <p class="casestudy-header">Here are a few impact stories. </p>
                    <p class="casestudy-sub">We helped these organizations to adapt FOSS and become more impactful.</p>
                </div>
                <div>
                    <button class="case-study-btn">View all case studies <img style="width: 12px;" src="/assets/oasis/images/arrow_right_green.svg" alt=""></button>
                </div>
            </div>
            <div class="casestudy-lrg-scrn-main">
                <div class="case-study-right">
                    <div style="display: flex; ">
                        {% for item in casestudies %}
                        <div id="casestudy-container" class="casestudy-inner-container" data-casestudy-name="{{ item.name }}" >
                            <p class="casestudy-container-title" style="font-weight: 600;">{{item.title}}</p>
                            <p class="casestudy-container-title" style="font-weight: 400;">{{item.subtitle | default('', true)}}</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="case-study-left transition-all duration-700 fade-in-out">
                    <div style="display: flex; flex: 1; flex-direction: column; gap: 23px;">
                        <div class="fade-in" style="border: 0.5px solid rgba(0, 0, 0, 0.16); width: auto; padding: 32px; display: flex; flex-direction: column; gap: 20px;">
                            <div>
                                <p style="font-family: 'Nanum Pen Script', cursive; margin: 0px; font-size: 22px; font-weight: 400; line-height: 30px; color: rgba(0, 0, 0, 1);">Challenge</p>
                            </div>
                            <div>
                                <p id="challenge-text" style="font-family: 'Inter', sans-serif; margin: 0px; font-size: 20px; font-weight: 400; line-height: 27px; color: rgba(0, 0, 0, 1);">
                                    {{casestudies[0].challenge}}
                                </p>
                            </div>
                            <div>
                                <p id="category-text" style="background-color: #FF94B8; padding: 4px 8px; border-radius: 40px; width: auto; display: inline-block; font-family: 'Inter', sans-serif; margin: 0px; font-size: 16px; font-weight: 500; line-height: 21px; color: rgba(0, 0, 0, 1);">
                                    {{casestudies[0].category_tag}}
                                </p>
                            </div>
                        </div>
                        <div class="fade-in" style="border: 0.5px solid rgba(0, 0, 0, 0.16); width: auto; padding: 32px; display: flex; gap: 20px;">
                            <p style="font-family: 'Nanum Pen Script', cursive; margin: 0px; font-size: 22px; font-weight: 400; line-height: 30px; color: rgba(0, 0, 0, 1);">Solution Partner</p>
                            <img id="solution-partner" src="{{casestudies[0].solution_partner}}" alt="">
                        </div>
                    </div>
                    <div style="display: flex; flex: 1; flex-direction: column; gap: 23px;">
                        <div class="fade-in" style="border: 0.5px solid rgba(0, 0, 0, 0.16); width: auto; padding: 32px; display: flex; flex-direction: column; gap: 20px;">
                            <div>
                                <p style="font-family: 'Nanum Pen Script', cursive; margin: 0px; font-size: 22px; font-weight: 400; line-height: 30px; color: rgba(0, 0, 0, 1);">Solution</p>
                            </div>
                            <div>
                                <p id="solution-text" style="font-family: 'Inter', sans-serif; margin: 0px; font-size: 20px; font-weight: 400; line-height: 27px; color: rgba(0, 0, 0, 1);">
                                    {{casestudies[0].solution}}
                                </p>
                            </div>
                        </div>
                        <div class="fade-in" style="border: 0.5px solid rgba(0, 0, 0, 0.16); width: auto; padding: 32px; display: flex; flex-wrap: wrap; gap: 20px;">
                            <p style="font-family: 'Nanum Pen Script', cursive; margin: 0px; font-size: 22px; font-weight: 400; line-height: 30px; color: rgba(0, 0, 0, 1);">Tool used</p>
                            <div id="tool-list" style="display: flex; gap: 24px;">
                                {% for item in casestudies[0].tools_used %}
                                    <img style="width: 50px; height: 50px;" src="{{item.logo}}" alt="">
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="casetudy-sml-scrn-main">
                {% set colors = ['#FF94B8', '#F5E253', '#85B4EF', '#3CB645'] %}
                {% for item in casestudies %}
                <div style="display: flex; justify-content: space-between; align-items: center; height: 80px; padding: 0px 16px;">
                    <div>
                        <p class="casestudy-container-title" style="font-weight: 600; color: rgba(0, 0, 0, 0.86);">{{item.title}}</p>
                        <p class="casestudy-container-title" style="font-weight: 400; color: rgba(0, 0, 0, 0.56);">{{item.subtitle | default('', true)}}</p>
                    </div>
                    <div>
                        <p class="category-text-xs" style="background-color: {{ colors[loop.index0 % colors|length] }}">{{item.category_tag}}</p>
                    </div>
                </div>
                <hr style="width: 100%; height: 1px;">
                {% endfor %}
            </div>
        </div>
    </div>
</section> 
<section class="section">
    <div class="tools">
        <div class="tools-main-div">
            <div class="tools-lrg-scrn">
                <div class="tools-list">
                    {% for img in tools %}
                    <div class="tool-container">
                        <div class="tool-item">
                            <img class="tool-img" src="{{img.logo}}" alt="">
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="tools-content">
                    <div class="fade-in" style="box-sizing: border-box; display: flex; flex-direction: column; gap: 24px;">
                        <div>
                            <p class="tools-left-header">Tools that creates value</p>
                        </div>
                        <div>
                            <p class="tools-left-paragraph">We are a network of organizations united by the vision that Free and Open-Source Software (FOSS) can empower citizen sector organizations and communities to create positive impact at scale.</p>
                        </div>
                        <div style="display: flex; gap: 24px;">
                            <button class="tools-btn-left">Find right tool -></button>
                            <a href="https://forum.oasishq.org/" style="text-decoration: none; color: #000;" class="tools-btn-right">Ask community <img style="width: 12px; margin-left: 5px;" src="/assets/oasis/images/arrow_right_black.svg" alt=""></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tools-sml-scrn">
                <div style="width: 100%; overflow-x: hidden; height: 120px; display: flex; align-items: center; cursor: pointer;">
                    <div id="scroll-container" style="display: flex; white-space: nowrap;">
                        {% for img in tools %}
                            <div style="height: 105px; width: 105px; padding: 0px 32px; display: flex; background-color: transparent; justify-content: center; align-items: center;">
                                <img style="width: 30px; height: 30px; mix-blend-mode: darken;" src="{{ img.logo }}" alt="">
                            </div>
                        {% endfor %}
                    </div>
                </div>                
                <div style="width: 100%; box-sizing: border-box; padding: 0px 32px;">
                    <div style="display: flex; flex-direction: column; gap: 24px;">
                        <div>
                            <p class="tools-left-header">Tools that creates value</p>
                        </div>
                        <div>
                            <p class="">We are a network of organizations united by the vision that Free and Open-Source Software (FOSS) can empower citizen sector organizations and communities to create positive impact at scale.</p>
                        </div>
                        <div style="display: flex; gap: 20px;">
                            <button class="tools-btn-left">Find right tool <img style="width: 12px;" src="/assets/oasis/images/arrow_right_white.svg" alt=""></button>
                            <a href="https://forum.oasishq.org/" style="text-decoration: none; color: #000;"><button class="tools-btn-right">Ask community -> </button></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="section" style="width: 100%;">
    <div class="benefits">
        <div class="fade-in" style="display: flex; flex-direction: column; gap: 12px;">
            <p class="benefits-header">Benefits of FOSS</p>
            <p class="benefits-sub">By adopting FOSS, organisations in the social sector can leverage powerful tools, reduce costs, and contribute to a collaborative ecosystem of technological innovation.</p>
        </div>
        <div class="benefits-inner-cards fade-in">
            <div class="benefits-cards" style="border-bottom: 0.5px solid rgba(0, 0, 0, 0.16);">
                <div class="benefit-card">
                    <div>
                        <img style="width: 36px; height: 36px;" src="/assets/oasis/images/Icon.svg" alt="">
                    </div>
                    <div class="card-content">
                        <p class="benefits-card-title">Cost-Effective</p>
                        <p class="benefits-card-sub">Reduces software expenses, especially beneficial for non-profits and small organisations.</p>
                    </div>
                </div>
                <div class="benefit-card">
                    <div>
                        <img style="width: 36px; height: 36px;" src="/assets/oasis/images/Icon (1).svg" alt="">
                    </div>
                    <div class="card-content">
                        <p class="benefits-card-title">Customizable</p>
                        <p class="benefits-card-sub">Can be tailored to specific organisational needs.</p>
                    </div>
                </div>
                <div class="benefit-card">
                    <div>
                        <img style="width: 36px; height: 36px;" src="/assets/oasis/images/Icon (2).svg" alt="">
                    </div>
                    <div class="card-content">
                        <p class="benefits-card-title">Transparent</p>
                        <p class="benefits-card-sub">Open code means better security and privacy control.</p>
                    </div>
                </div>
            </div>
            <div class="benefits-cards">
                <div class="benefit-card">
                    <div>
                        <img style="width: 36px; height: 36px;" src="/assets/oasis/images/Icon (3).svg" alt="">
                    </div>
                    <div class="card-content">
                        <p class="benefits-card-title">Community-Driven</p>
                        <p class="benefits-card-sub">Benefits from continuous improvements by a global community of developers.</p>
                    </div>
                </div>
                <div class="benefit-card">
                    <div>
                        <img style="width: 36px; height: 36px;" src="/assets/oasis/images/Icon (5).svg" alt="">
                    </div>
                    <div class="card-content">
                        <p class="benefits-card-title">Promotes Innovation</p>
                        <p class="benefits-card-sub">Encourages collaborative problem-solving and knowledge sharing.</p>
                    </div>
                </div>
                <div class="benefit-card">
                    <div>
                        <img style="width: 36px; height: 36px;" src="/assets/oasis/images/Icon (6).svg" alt="">
                    </div>
                    <div class="card-content">
                        <p class="benefits-card-title">Open Source</p>
                        <p class="benefits-card-sub">The source code is openly available, allowing users to study how the software works.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const casestudiesData = {{ casestudies | tojson }};
        const caseStudyContainers = document.querySelectorAll('#casestudy-container');
        const challengeTextEl = document.getElementById('challenge-text');
        const solutionTextEl = document.getElementById('solution-text');
        const categoryTextEl = document.getElementById('category-text');
        const solutionPartnerEl = document.getElementById('solution-partner');
        const toolListContainer = document.getElementById('tool-list');
    
        const casestudiesMap = new Map(casestudiesData.map(study => [study.name, study]));
    
        if (caseStudyContainers.length) {
            // caseStudyContainers[0].classList.add('case-active');

            gsap.fromTo(caseStudyContainers[0], 
                {
                    backgroundColor: 'transparent',
                    color: '#ffffff',
                    opacity: 0,
                    scale: 1
                },
                {
                    backgroundColor: 'rgba(255,255,255,1)', 
                    color: '#000000',
                    border: '0.5px solid rgba(0, 0, 0, 0.16)',
                    opacity: 1,
                    scale: 1,
                    duration: 0.3,
                    ease: "power2.out",
                    stagger:2,
                }
            );
        }
    
        document.querySelector('.case-study-right').addEventListener('click', (event) => {
            const caseStudyContainer = event.target.closest('#casestudy-container');
            if (!caseStudyContainer) return;
    
            const caseStudyName = caseStudyContainer.dataset.casestudyName;
            updateCaseStudyContent(caseStudyName, caseStudyContainer);
        });
    
        function updateCaseStudyContent(caseStudyName, currentTarget) {
            const caseStudy = casestudiesMap.get(caseStudyName);
            if (!caseStudy) return;

            gsap.to('.fade-in', {
                opacity: 0,
                y: 20,
                duration: 0.3,
                onComplete: () => {
                    challengeTextEl.textContent = caseStudy.challenge;
                    solutionTextEl.textContent = caseStudy.solution;
                    categoryTextEl.textContent = caseStudy.category_tag;
                    solutionPartnerEl.src = caseStudy.solution_partner;

                    toolListContainer.innerHTML = caseStudy.tools_used
                        .map(tool => `<img src="${tool.logo}" style="width:50px; height:50px;" alt="${tool.name}">`)
                        .join('');

                    gsap.fromTo(
                        '.fade-in',
                        { opacity: 0.2, y: 20 },
                        { opacity: 1, y: 0, duration: 0.3 }
                    );

                    // caseStudyContainers.forEach(container => {
                    //     container.classList.toggle('case-active', container === currentTarget);
                    //     container.classList.toggle('case-inactive', container !== currentTarget);
                    // });
                    caseStudyContainers.forEach(container => {
                        if (container === currentTarget) {
                    gsap.fromTo(container, 
                        {
                            backgroundColor: 'transparent',
                            color: '#ffffff',
                            opacity: 0,
                            scale: 1
                        },
                        {
                            backgroundColor: 'rgba(255,255,255,1)', 
                            color: '#000000',
                            border: '0.5px solid rgba(0, 0, 0, 0.16)',
                            opacity: 1,
                            scale: 1,
                            duration: 0.3,
                            ease: "power2.out",
                            stagger: 0.2,
                        }
                    );
                } else {
                    gsap.to(container, {
                        backgroundColor: 'transparent',
                        color: '#ffffff',
                        border: '0.5px solid transparent',
                        opacity: 1,
                        duration: 0.1,
                        ease: "power2.out"
                    });
                }
                    //     gsap.to(container, {
                    //         opacity: container === currentTarget ? 1 : 0.9,
                    //         duration: 0.3,
                    //         onComplete: () => {
                    //             // Add/remove classes after animation
                    //             container.classList.toggle('case-active', container === currentTarget);
                    //             container.classList.toggle('case-inactive', container !== currentTarget);
                    //         }
                    //     });
                    });
                }
            });
        }


        const container = document.getElementById("scroll-container");
        const clones = container.innerHTML; 
        container.innerHTML += clones;
        container.innerHTML += clones; 

        gsap.to(container, {
            x: () => `-=${container.scrollWidth / 3}`, 
            ease: "none",
            repeat: -1, 
            duration: 25, 
        });

        // gsap.registerPlugin(ScrollTrigger);
        // gsap.utils.toArray(".fade-in").forEach((section) => {
        //     gsap.from(section, {
        //         opacity: 0,
        //         y: 50, 
        //         duration: 0.8,
        //         ease: "power2.out",
        //         scrollTrigger: {
        //         trigger: section,
        //         start: "top 80%", 
        //         toggleActions: "play none none reverse", 
        //         },
        //     });
        // });

        gsap.fromTo(
            ".partner-logo", 
            { 
                opacity: 0, 
                y: 20, 
                scale: 0.8
            },
            { 
                opacity: 1, 
                scale: 1,
                y: 0, 
                duration: 0.4, 
                stagger: 0.2, 
                ease: "power2.out",
                scrollTrigger: {
                    trigger: ".partners", 
                    start: "top 80%", 
                    toggleActions: "play none none reverse", 
                }, 
            }
        );

        const toolItems = document.querySelectorAll(".tool-item");

        gsap.fromTo(
            ".tool-item",
            {
                scale: 0,
                opacity: 0,
            },
            {
                scale: 1,
                opacity: 1,
                duration: 0.6,
                ease: "power2.out",
                stagger: {
                    each: 0.1,
                    grid: [4, Math.ceil(toolItems.length / 4)],
                    from: "edges", 
                },
                scrollTrigger: {
                    trigger: ".tools-list",
                    start: "top 80%",
                    toggleActions: "play none none reverse",
                },
            }
        );

        document.querySelectorAll('.tool-container').forEach(container => {
            const toolImg = container.querySelector('.tool-img');
            const toolItem = container.querySelector('.tool-item');

            container.addEventListener('mouseenter', () => {
                gsap.to(toolImg, {
                    scale: 1.2, 
                    duration: 0.3,
                    ease: "power1.out",
                });
                gsap.to(toolItem, {
                    rotateY: 180, 
                    duration: 0.4,
                    backgroundColor: "#ffffff",
                    ease: "power1.out",
                });
            });

            container.addEventListener('mouseleave', () => {
                gsap.to(toolImg, {
                    scale: 1, 
                    duration: 0.3,
                    ease: "power1.out",
                    clearProps: "scale", 
                });

                gsap.to(toolItem, {
                    rotateY: 0, 
                    duration: 0.4,
                    backgroundColor: "#f8f7ef",
                    ease: "power1.out",
                });
            });
        });
    });
    </script>

{% endblock %}





